const e=function(e={}){var n,t;e.ready=new Promise((function(e,r){n=e,t=r}));var r,s=e.printErr||console.warn.bind(console);"object"!=typeof WebAssembly&&A("no native wasm support detected");var a,_,o,i,u,c,y,p,l=!1,d="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function h(e,n){return e?function(e,n,t){for(var r=n+t,s=n;e[s]&&!(s>=r);)++s;if(s-n>16&&e.subarray&&d)return d.decode(e.subarray(n,s));for(var a="";n<s;){var _=e[n++];if(128&_){var o=63&e[n++];if(192!=(224&_)){var i=63&e[n++];if((_=224==(240&_)?(15&_)<<12|o<<6|i:(7&_)<<18|o<<12|i<<6|63&e[n++])<65536)a+=String.fromCharCode(_);else{var u=_-65536;a+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else a+=String.fromCharCode((31&_)<<6|o)}else a+=String.fromCharCode(_)}return a}(o,e,n):""}function b(n){a=n,e.HEAP8=_=new Int8Array(n),e.HEAP16=i=new Int16Array(n),e.HEAP32=u=new Int32Array(n),e.HEAPU8=o=new Uint8Array(n),e.HEAPU16=new Uint16Array(n),e.HEAPU32=new Uint32Array(n),e.HEAPF32=c=new Float32Array(n),e.HEAPF64=y=new Float64Array(n)}e.INITIAL_MEMORY;var g=[],f=[],m=[];var v,w,E=0,x=null;function A(n){e.onAbort&&e.onAbort(n),s(n+=""),l=!0,n="abort("+n+"). Build with -s ASSERTIONS=1 for more info.";var r=new WebAssembly.RuntimeError(n);throw t(r),r}e.preloadedImages={},e.preloadedAudios={};var S={35532:function(){return e.getRandomValue()},35568:function(){void 0===e.getRandomValue&&(e.getRandomValue=()=>{var e=new Uint32Array(1);return crypto.getRandomValues(e),e[0]>>>0})}};function k(n){for(;n.length>0;){var t=n.shift();if("function"!=typeof t){var r=t.func;"number"==typeof r?void 0===t.arg?p.get(r)():p.get(r)(t.arg):r(void 0===t.arg?null:t.arg)}else t(e)}}var R=[];function I(e){try{return r.grow(e-a.byteLength+65535>>>16),b(r.buffer),1}catch(e){}}var T,U={b:function(e,n,t,r){A("Assertion failed: "+h(e)+", at: "+[n?h(n):"unknown filename",t,r?h(r):"unknown function"])},c:function(){A()},a:function(e,n,t){var r=function(e,n){var t;for(R.length=0,n>>=2;t=o[e++];){var r=t<105;r&&1&n&&n++,R.push(r?y[n++>>1]:u[n]),++n}return R}(n,t);return S[e].apply(null,r)},d:function(){return 2147483648},e:function(e,n,t){o.copyWithin(e,n,n+t)},f:function(e){var n,t,r=o.length,s=2147483648;if((e>>>=0)>s)return!1;for(var a=1;a<=4;a*=2){var _=r*(1+.2/a);if(_=Math.min(_,e+100663296),I(Math.min(s,((n=Math.max(e,_))%(t=65536)>0&&(n+=t-n%t),n))))return!0}return!1}};function Y(t){function r(){T||(T=!0,e.calledRun=!0,l||(k(f),n(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),function(){if(e.postRun)for("function"==typeof e.postRun&&(e.postRun=[e.postRun]);e.postRun.length;)n=e.postRun.shift(),m.unshift(n);var n;k(m)}()))}E>0||(!function(){if(e.preRun)for("function"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;)n=e.preRun.shift(),g.unshift(n);var n;k(g)}(),E>0||(e.setStatus?(e.setStatus("Running..."),setTimeout((function(){setTimeout((function(){e.setStatus("")}),1),r()}),1)):r()))}if(async function(){const n={a:U};function a(n){const t=n.exports;var s;return e.asm=t,b((r=t.g).buffer),p=t._,s=t.h,f.unshift(s),function(n){if(E--,e.monitorRunDependencies&&e.monitorRunDependencies(E),0==E&&x){var t=x;x=null,t()}}(),t}E++,e.monitorRunDependencies&&e.monitorRunDependencies(E);try{if(e.instantiateWasm)return await e.instantiateWasm(n,a);a((await WebAssembly.instantiateStreaming(fetch(e.wasmUrl||"sodium.wasm",{credentials:"same-origin"}),n)).instance)}catch(e){try{A(e)}catch(e){t(e)}return s("Module.instantiateWasm callback failed with error: "+e),A(e),!1}}(),e.___wasm_call_ctors=function(){return(e.___wasm_call_ctors=e.asm.h).apply(null,arguments)},e._crypto_box_publickeybytes=function(){return(e._crypto_box_publickeybytes=e.asm.i).apply(null,arguments)},e._crypto_box_secretkeybytes=function(){return(e._crypto_box_secretkeybytes=e.asm.j).apply(null,arguments)},e._crypto_box_noncebytes=function(){return(e._crypto_box_noncebytes=e.asm.k).apply(null,arguments)},e._crypto_box_macbytes=function(){return(e._crypto_box_macbytes=e.asm.l).apply(null,arguments)},e._crypto_box_easy=function(){return(e._crypto_box_easy=e.asm.m).apply(null,arguments)},e._crypto_box_open_easy=function(){return(e._crypto_box_open_easy=e.asm.n).apply(null,arguments)},e._crypto_hash_sha256_bytes=function(){return(e._crypto_hash_sha256_bytes=e.asm.o).apply(null,arguments)},e._crypto_hash_sha256_init=function(){return(e._crypto_hash_sha256_init=e.asm.p).apply(null,arguments)},e._crypto_hash_sha256_update=function(){return(e._crypto_hash_sha256_update=e.asm.q).apply(null,arguments)},e._crypto_hash_sha256_final=function(){return(e._crypto_hash_sha256_final=e.asm.r).apply(null,arguments)},e._crypto_hash_sha256=function(){return(e._crypto_hash_sha256=e.asm.s).apply(null,arguments)},e._crypto_scalarmult_scalarbytes=function(){return(e._crypto_scalarmult_scalarbytes=e.asm.t).apply(null,arguments)},e._crypto_secretbox_keybytes=function(){return(e._crypto_secretbox_keybytes=e.asm.u).apply(null,arguments)},e._crypto_secretbox_noncebytes=function(){return(e._crypto_secretbox_noncebytes=e.asm.v).apply(null,arguments)},e._crypto_secretbox_macbytes=function(){return(e._crypto_secretbox_macbytes=e.asm.w).apply(null,arguments)},e._crypto_secretbox_easy=function(){return(e._crypto_secretbox_easy=e.asm.x).apply(null,arguments)},e._crypto_secretbox_open_easy=function(){return(e._crypto_secretbox_open_easy=e.asm.y).apply(null,arguments)},e._crypto_sign_statebytes=function(){return(e._crypto_sign_statebytes=e.asm.z).apply(null,arguments)},e._crypto_sign_bytes=function(){return(e._crypto_sign_bytes=e.asm.A).apply(null,arguments)},e._crypto_sign_seedbytes=function(){return(e._crypto_sign_seedbytes=e.asm.B).apply(null,arguments)},e._crypto_sign_publickeybytes=function(){return(e._crypto_sign_publickeybytes=e.asm.C).apply(null,arguments)},e._crypto_sign_secretkeybytes=function(){return(e._crypto_sign_secretkeybytes=e.asm.D).apply(null,arguments)},e._crypto_sign_messagebytes_max=function(){return(e._crypto_sign_messagebytes_max=e.asm.E).apply(null,arguments)},e._crypto_sign_seed_keypair=function(){return(e._crypto_sign_seed_keypair=e.asm.F).apply(null,arguments)},e._crypto_sign_keypair=function(){return(e._crypto_sign_keypair=e.asm.G).apply(null,arguments)},e._crypto_sign=function(){return(e._crypto_sign=e.asm.H).apply(null,arguments)},e._crypto_sign_open=function(){return(e._crypto_sign_open=e.asm.I).apply(null,arguments)},e._crypto_sign_detached=function(){return(e._crypto_sign_detached=e.asm.J).apply(null,arguments)},e._crypto_sign_verify_detached=function(){return(e._crypto_sign_verify_detached=e.asm.K).apply(null,arguments)},e._crypto_sign_init=function(){return(e._crypto_sign_init=e.asm.L).apply(null,arguments)},e._crypto_sign_update=function(){return(e._crypto_sign_update=e.asm.M).apply(null,arguments)},e._crypto_sign_final_create=function(){return(e._crypto_sign_final_create=e.asm.N).apply(null,arguments)},e._crypto_sign_final_verify=function(){return(e._crypto_sign_final_verify=e.asm.O).apply(null,arguments)},e._crypto_sign_ed25519_pk_to_curve25519=function(){return(e._crypto_sign_ed25519_pk_to_curve25519=e.asm.P).apply(null,arguments)},e._crypto_sign_ed25519_sk_to_curve25519=function(){return(e._crypto_sign_ed25519_sk_to_curve25519=e.asm.Q).apply(null,arguments)},e._randombytes_random=function(){return(e._randombytes_random=e.asm.R).apply(null,arguments)},e._randombytes_stir=function(){return(e._randombytes_stir=e.asm.S).apply(null,arguments)},e._randombytes_uniform=function(){return(e._randombytes_uniform=e.asm.T).apply(null,arguments)},e._randombytes_buf=function(){return(e._randombytes_buf=e.asm.U).apply(null,arguments)},e._randombytes_buf_deterministic=function(){return(e._randombytes_buf_deterministic=e.asm.V).apply(null,arguments)},e._randombytes_seedbytes=function(){return(e._randombytes_seedbytes=e.asm.W).apply(null,arguments)},e._randombytes_close=function(){return(e._randombytes_close=e.asm.X).apply(null,arguments)},e._randombytes=function(){return(e._randombytes=e.asm.Y).apply(null,arguments)},e._sodium_bin2hex=function(){return(e._sodium_bin2hex=e.asm.Z).apply(null,arguments)},e._sodium_hex2bin=function(){return(e._sodium_hex2bin=e.asm._).apply(null,arguments)},e._sodium_base64_encoded_len=function(){return(e._sodium_base64_encoded_len=e.asm.$).apply(null,arguments)},e._sodium_bin2base64=function(){return(e._sodium_bin2base64=e.asm.aa).apply(null,arguments)},e._sodium_base642bin=function(){return(e._sodium_base642bin=e.asm.ba).apply(null,arguments)},e._sodium_init=function(){return(e._sodium_init=e.asm.ca).apply(null,arguments)},e._sodium_pad=function(){return(e._sodium_pad=e.asm.da).apply(null,arguments)},e._sodium_unpad=function(){return(e._sodium_unpad=e.asm.ea).apply(null,arguments)},e._sodium_version_string=function(){return(e._sodium_version_string=e.asm.fa).apply(null,arguments)},e._sodium_library_version_major=function(){return(e._sodium_library_version_major=e.asm.ga).apply(null,arguments)},e._sodium_library_version_minor=function(){return(e._sodium_library_version_minor=e.asm.ha).apply(null,arguments)},e._sodium_library_minimal=function(){return(e._sodium_library_minimal=e.asm.ia).apply(null,arguments)},e._malloc=function(){return(e._malloc=e.asm.ja).apply(null,arguments)},e._free=function(){return(e._free=e.asm.ka).apply(null,arguments)},e.setValue=function(e,n,t,r){switch("*"===(t=t||"i8").charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":_[e>>0]=n;break;case"i16":i[e>>1]=n;break;case"i32":u[e>>2]=n;break;case"i64":w=[n>>>0,(v=n,+Math.abs(v)>=1?v>0?(0|Math.min(+Math.floor(v/4294967296),4294967295))>>>0:~~+Math.ceil((v-+(~~v>>>0))/4294967296)>>>0:0)],u[e>>2]=w[0],u[e+4>>2]=w[1];break;case"float":c[e>>2]=n;break;case"double":y[e>>3]=n;break;default:A("invalid type for setValue: "+t)}},e.getValue=function(e,n,t){switch("*"===(n=n||"i8").charAt(n.length-1)&&(n="i32"),n){case"i1":case"i8":return _[e>>0];case"i16":return i[e>>1];case"i32":case"i64":return u[e>>2];case"float":return c[e>>2];case"double":return y[e>>3];default:A("invalid type for getValue: "+n)}return null},e.UTF8ToString=h,x=function e(){T||Y(),T||(x=e)},e.run=Y,e.preInit)for("function"==typeof e.preInit&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return Y(),e.ready},n={};let t;const r=e=>t||(t=s(e)),s=async t=>{t&&(n.instantiateWasm=t.instantiateWasm,n.wasmUrl=t.wasmUrl,t.getRandomValue&&(n.getRandomValue=t.getRandomValue)),e(n),await n.ready;try{if(0!==n._sodium_init())throw new Error("libsodium was not correctly initialized.");const e=new Uint8Array([98,97,108,108,115]),r=q(T.crypto_secretbox_NONCEBYTES),s=q(T.crypto_secretbox_KEYBYTES),a=C(e,r,s);if(function(e,n){if(!(e instanceof Uint8Array&&n instanceof Uint8Array))throw new TypeError("Only Uint8Array instances can be compared");if(e.length!==n.length)throw new TypeError("Only instances of identical length can be compared");for(var t=0,r=0,s=e.length;r<s;r++)t|=e[r]^n[r];return 0===t}(e,D(a,r,s)))return t}catch(e){throw console.log(e),new Error("./libsodium.js wasm failed to load"+e)}};const a=new TextEncoder,_=a.encode.bind(a),o=new TextDecoder("utf-8",{fatal:!0}),i=o.decode.bind(o);function u(e){const t=new v,r=R(t,e,"input"),s=new m(r.length/2),a=w(r),_=E(4);t.push(a),t.push(s.address),t.push(_),0!==n._sodium_hex2bin(s.address,s.length,a,r.length,0,0,_)&&A(t,"invalid input");n.getValue(_,"i32")-a!==r.length&&A(t,"incomplete input");const o=s.to_Uint8Array();return x(t),o}function c(e){e=R(null,e,"input");for(var n,t,r,s="",a=0;a<e.length;a++)r=87+(t=15&e[a])+(t-10>>8&-39)<<8|87+(n=e[a]>>>4)+(n-10>>8&-39),s+=String.fromCharCode(255&r)+String.fromCharCode(r>>>8);return s}var y;function p(e){if(null==e)return y.URLSAFE_NO_PADDING;if(e!==y.ORIGINAL&&e!==y.ORIGINAL_NO_PADDING&&e!==y.URLSAFE&&e!=y.URLSAFE_NO_PADDING)throw new Error("unsupported base64 variant");return e}function l(e,t){t=p(t);const r=new v,s=R(r,e,"input"),a=new m(3*s.length/4),_=w(s),o=E(4),i=E(4);r.push(_),r.push(a.address),r.push(o),r.push(i),0!==n._sodium_base642bin(a.address,a.length,_,s.length,0,o,i,t)&&A(r,"invalid input");n.getValue(i,"i32")-_!==s.length&&A(r,"incomplete input"),a.length=n.getValue(o,"i32");const u=a.to_Uint8Array();return x(r),u}function d(e,t){t=p(t);const r=new v;e=R(r,e,"input");const s=0|Math.floor(e.length/3),a=e.length-3*s,_=4*s+(0!==a?0==(2&t)?4:2+(a>>>1):0),o=new m(_+1),u=w(e);r.push(u),r.push(o.address),0===n._sodium_bin2base64(o.address,o.length,u,e.length,t)&&A(r,"conversion failed"),o.length=_;const c=i(o.to_Uint8Array());return x(r),c}!function(e){e[e.ORIGINAL=1]="ORIGINAL",e[e.ORIGINAL_NO_PADDING=3]="ORIGINAL_NO_PADDING",e[e.URLSAFE=5]="URLSAFE",e[e.URLSAFE_NO_PADDING=7]="URLSAFE_NO_PADDING"}(y||(y={}));const h=Object.freeze(["uint8array","text","hex","base64"]);function b(e,n){var t=n||"uint8array";if(!g(t))throw new Error(t+" output format is not available");if(e instanceof m){if("uint8array"===t)return e.to_Uint8Array();if("text"===t)return i(e.to_Uint8Array());if("hex"===t)return c(e.to_Uint8Array());if("base64"===t)return d(e.to_Uint8Array(),y.URLSAFE_NO_PADDING);throw new Error('What is output format "'+t+'"?')}throw new TypeError("Cannot format output")}function g(e){return h.includes(e)}function f(e){if(e){if("string"!=typeof e)throw new TypeError("When defined, the output format must be a string");if(!g(e))throw new Error(e+" is not a supported output format")}}class m{constructor(e){this.length=e,this.address=E(e)}to_Uint8Array(){var e=new Uint8Array(this.length);return e.set(n.HEAPU8.subarray(this.address,this.address+this.length)),e}}class v extends Array{push(e){return this[this.length]=e}}function w(e){var t=E(e.length);return n.HEAPU8.set(e,t),t}function E(e){var t=n._malloc(e);if(0===t)throw{message:"_malloc() failed",length:e};return t}function x(e){if(e)for(var t=0;t<e.length;t++)r=e[t],n._free(r);var r}function A(e,n){throw x(e),new Error(n)}function S(e,n){throw x(e),new TypeError(n)}function k(e,n,t){null==n&&S(e,t+" cannot be null or undefined")}function R(e,n,t){return k(e,n,t),n instanceof Uint8Array?n:"string"==typeof n?_(n):void S(e,"unsupported input type for "+t)}const I=(e,n)=>{Object.defineProperty(T,e,{value:n,writable:!1,configurable:!0,enumerable:!0})},T={get SODIUM_LIBRARY_VERSION_MAJOR(){const e=n._sodium_library_version_major();return I("SODIUM_LIBRARY_VERSION_MAJOR",e),e},get SODIUM_LIBRARY_VERSION_MINOR(){const e=n._sodium_library_version_minor();return I("SODIUM_LIBRARY_VERSION_MINOR",e),e},get SODIUM_VERSION_STRING(){const e=n._sodium_version_string();return I("SODIUM_VERSION_STRING",e),e},get crypto_box_MACBYTES(){const e=n._crypto_box_macbytes();return I("crypto_box_MACBYTES",e),e},get crypto_box_NONCEBYTES(){const e=n._crypto_box_noncebytes();return I("crypto_box_NONCEBYTES",e),e},get crypto_box_PUBLICKEYBYTES(){const e=n._crypto_box_publickeybytes();return I("crypto_box_PUBLICKEYBYTES",e),e},get crypto_box_SECRETKEYBYTES(){const e=n._crypto_box_secretkeybytes();return I("crypto_box_SECRETKEYBYTES",e),e},get crypto_hash_sha256_BYTES(){const e=n._crypto_hash_sha256_bytes();return I("crypto_hash_sha256_BYTES",e),e},get crypto_scalarmult_SCALARBYTES(){const e=n._crypto_scalarmult_scalarbytes();return I("crypto_scalarmult_SCALARBYTES",e),e},get crypto_secretbox_KEYBYTES(){const e=n._crypto_secretbox_keybytes();return I("crypto_secretbox_KEYBYTES",e),e},get crypto_secretbox_MACBYTES(){const e=n._crypto_secretbox_macbytes();return I("crypto_secretbox_MACBYTES",e),e},get crypto_secretbox_NONCEBYTES(){const e=n._crypto_secretbox_noncebytes();return I("crypto_secretbox_NONCEBYTES",e),e},get crypto_sign_BYTES(){const e=n._crypto_sign_bytes();return I("crypto_sign_BYTES",e),e},get crypto_sign_MESSAGEBYTES_MAX(){const e=n._crypto_sign_messagebytes_max();return I("crypto_sign_MESSAGEBYTES_MAX",e),e},get crypto_sign_PUBLICKEYBYTES(){const e=n._crypto_sign_publickeybytes();return I("crypto_sign_PUBLICKEYBYTES",e),e},get crypto_sign_SECRETKEYBYTES(){const e=n._crypto_sign_secretkeybytes();return I("crypto_sign_SECRETKEYBYTES",e),e},get crypto_sign_SEEDBYTES(){const e=n._crypto_sign_seedbytes();return I("crypto_sign_SEEDBYTES",e),e}},U=(e,t,r,s,a="uint8array")=>{const _=new v;f(a);var o=w(e=R(_,e,"message")),i=e.length;_.push(o),t=R(_,t,"nonce");var u,c=0|n._crypto_box_noncebytes();t.length!==c&&S(_,"invalid nonce length"),u=w(t),_.push(u),r=R(_,r,"publicKey");var y,p=0|n._crypto_box_publickeybytes();r.length!==p&&S(_,"invalid publicKey length"),y=w(r),_.push(y),s=R(_,s,"privateKey");var l,d=0|n._crypto_box_secretkeybytes();s.length!==d&&S(_,"invalid privateKey length"),l=w(s),_.push(l);var h=i+n._crypto_box_macbytes()|0,g=new m(h),E=g.address;if(_.push(E),0==(0|n._crypto_box_easy(E,o,i,0,u,y,l))){var k=b(g,a);return x(_),k}A(_,"invalid usage")},Y=(e,t,r,s,a="uint8array")=>{const _=new v;f(a),e=R(_,e,"ciphertext");var o,i=n._crypto_box_macbytes(),u=e.length;u<i&&S(_,"ciphertext is too short"),o=w(e),_.push(o),t=R(_,t,"nonce");var c,y=0|n._crypto_box_noncebytes();t.length!==y&&S(_,"invalid nonce length"),c=w(t),_.push(c),r=R(_,r,"publicKey");var p,l=0|n._crypto_box_publickeybytes();r.length!==l&&S(_,"invalid publicKey length"),p=w(r),_.push(p),s=R(_,s,"privateKey");var d,h=0|n._crypto_box_secretkeybytes();s.length!==h&&S(_,"invalid privateKey length"),d=w(s),_.push(d);var g=u-n._crypto_box_macbytes()|0,E=new m(g),k=E.address;if(_.push(k),0==(0|n._crypto_box_open_easy(k,o,u,0,c,p,d))){var I=b(E,a);return x(_),I}A(_,"incorrect key pair for the given ciphertext")},N=(e,t="uint8array")=>{const r=new v;f(t);var s=w(e=R(r,e,"message")),a=e.length;r.push(s);var _=0|n._crypto_hash_sha256_bytes(),o=new m(_),i=o.address;if(r.push(i),0==(0|n._crypto_hash_sha256(i,s,a,0))){var u=b(o,t);return x(r),u}A(r,"invalid usage")},O=(e,t="uint8array")=>{const r=new v;f(t),k(r,e,"state_address");var s=0|n._crypto_hash_sha256_bytes(),a=new m(s),_=a.address;if(r.push(_),0==(0|n._crypto_hash_sha256_final(e,_))){var o=(n._free(e),b(a,t));return x(r),o}A(r,"invalid usage")},B=(e="uint8array")=>{const t=new v;f(e);var r=new m(104).address;if(0==(0|n._crypto_hash_sha256_init(r))){var s=r;return x(t),s}A(t,"invalid usage")},K=(e,t,r="uint8array")=>{const s=new v;f(r),k(s,e,"state_address");var a=w(t=R(s,t,"message_chunk")),_=t.length;s.push(a),0!=(0|n._crypto_hash_sha256_update(e,a,_,0))&&A(s,"invalid usage"),x(s)},C=(e,t,r,s="uint8array")=>{const a=new v;f(s);var _=w(e=R(a,e,"message")),o=e.length;a.push(_),t=R(a,t,"nonce");var i,u=0|n._crypto_secretbox_noncebytes();t.length!==u&&S(a,"invalid nonce length"),i=w(t),a.push(i),r=R(a,r,"key");var c,y=0|n._crypto_secretbox_keybytes();r.length!==y&&S(a,"invalid key length"),c=w(r),a.push(c);var p=o+n._crypto_secretbox_macbytes()|0,l=new m(p),d=l.address;if(a.push(d),0==(0|n._crypto_secretbox_easy(d,_,o,0,i,c))){var h=b(l,s);return x(a),h}A(a,"invalid usage")},D=(e,t,r,s="uint8array")=>{const a=new v;f(s),e=R(a,e,"ciphertext");var _,o=n._crypto_secretbox_macbytes(),i=e.length;i<o&&S(a,"ciphertext is too short"),_=w(e),a.push(_),t=R(a,t,"nonce");var u,c=0|n._crypto_secretbox_noncebytes();t.length!==c&&S(a,"invalid nonce length"),u=w(t),a.push(u),r=R(a,r,"key");var y,p=0|n._crypto_secretbox_keybytes();r.length!==p&&S(a,"invalid key length"),y=w(r),a.push(y);var l=i-n._crypto_secretbox_macbytes()|0,d=new m(l),h=d.address;if(a.push(h),0==(0|n._crypto_secretbox_open_easy(h,_,i,0,u,y))){var g=b(d,s);return x(a),g}A(a,"wrong secret key for the given ciphertext")},M=(e,t,r="uint8array")=>{const s=new v;f(r);var a=w(e=R(s,e,"message")),_=e.length;s.push(a),t=R(s,t,"privateKey");var o,i=0|n._crypto_sign_secretkeybytes();t.length!==i&&S(s,"invalid privateKey length"),o=w(t),s.push(o);var u=e.length+n._crypto_sign_bytes()|0,c=new m(u),y=c.address;if(s.push(y),0==(0|n._crypto_sign(y,null,a,_,0,o))){var p=b(c,r);return x(s),p}A(s,"invalid usage")},L=(e,t,r="uint8array")=>{const s=new v;f(r);var a=w(e=R(s,e,"message")),_=e.length;s.push(a),t=R(s,t,"privateKey");var o,i=0|n._crypto_sign_secretkeybytes();t.length!==i&&S(s,"invalid privateKey length"),o=w(t),s.push(o);var u=0|n._crypto_sign_bytes(),c=new m(u),y=c.address;if(s.push(y),0==(0|n._crypto_sign_detached(y,null,a,_,0,o))){var p=b(c,r);return x(s),p}A(s,"invalid usage")},P=(e,t="uint8array")=>{const r=new v;f(t),e=R(r,e,"edPk");var s,a=0|n._crypto_sign_publickeybytes();e.length!==a&&S(r,"invalid edPk length"),s=w(e),r.push(s);var _=0|n._crypto_scalarmult_scalarbytes(),o=new m(_),i=o.address;if(r.push(i),0==(0|n._crypto_sign_ed25519_pk_to_curve25519(i,s))){var u=b(o,t);return x(r),u}A(r,"invalid key")},V=(e,t="uint8array")=>{const r=new v;f(t),e=R(r,e,"edSk");var s,a=0|n._crypto_sign_secretkeybytes();e.length!==a&&S(r,"invalid edSk length"),s=w(e),r.push(s);var _=0|n._crypto_scalarmult_scalarbytes(),o=new m(_),i=o.address;if(r.push(i),0==(0|n._crypto_sign_ed25519_sk_to_curve25519(i,s))){var u=b(o,t);return x(r),u}A(r,"invalid key")},G=(e,t,r="uint8array")=>{const s=new v;f(r),k(s,e,"state_address"),t=R(s,t,"privateKey");var a,_=0|n._crypto_sign_secretkeybytes();t.length!==_&&S(s,"invalid privateKey length"),a=w(t),s.push(a);var o=0|n._crypto_sign_bytes(),i=new m(o),u=i.address;if(s.push(u),0==(0|n._crypto_sign_final_create(e,u,null,a))){var c=(n._free(e),b(i,r));return x(s),c}A(s,"invalid usage")},F=(e,t,r,s="uint8array")=>{const a=new v;f(s),k(a,e,"state_address"),t=R(a,t,"signature");var _,o=0|n._crypto_sign_bytes();t.length!==o&&S(a,"invalid signature length"),_=w(t),a.push(_),r=R(a,r,"publicKey");var i,u=0|n._crypto_sign_publickeybytes();r.length!==u&&S(a,"invalid publicKey length"),i=w(r),a.push(i);var c=0===(0|n._crypto_sign_final_verify(e,_,i));return x(a),c},W=(e="uint8array")=>{const t=new v;f(e);var r=new m(208).address;if(0==(0|n._crypto_sign_init(r))){var s=r;return x(t),s}A(t,"internal error")},H=(e="uint8array")=>{const t=new v;f(e);var r=0|n._crypto_sign_publickeybytes(),s=new m(r),a=s.address;t.push(a);var _=0|n._crypto_sign_secretkeybytes(),o=new m(_),i=o.address;if(t.push(i),0==(0|n._crypto_sign_keypair(a,i))){var u={publicKey:b(s,e),privateKey:b(o,e),keyType:"ed25519"};return x(t),u}A(t,"internal error")},j=(e,t,r="uint8array")=>{const s=new v;f(r),e=R(s,e,"signedMessage");var a,_=n._crypto_sign_bytes(),o=e.length;o<_&&S(s,"signedMessage is too short"),a=w(e),s.push(a),t=R(s,t,"publicKey");var i,u=0|n._crypto_sign_publickeybytes();t.length!==u&&S(s,"invalid publicKey length"),i=w(t),s.push(i);var c=o-n._crypto_sign_bytes()|0,y=new m(c),p=y.address;if(s.push(p),0==(0|n._crypto_sign_open(p,null,a,o,0,i))){var l=b(y,r);return x(s),l}A(s,"incorrect signature for the given public key")},z=(e,t="uint8array")=>{const r=new v;f(t),e=R(r,e,"seed");var s,a=0|n._crypto_sign_seedbytes();e.length!==a&&S(r,"invalid seed length"),s=w(e),r.push(s);var _=0|n._crypto_sign_publickeybytes(),o=new m(_),i=o.address;r.push(i);var u=0|n._crypto_sign_secretkeybytes(),c=new m(u),y=c.address;if(r.push(y),0==(0|n._crypto_sign_seed_keypair(i,y,s))){var p={publicKey:b(o,t),privateKey:b(c,t),keyType:"ed25519"};return x(r),p}A(r,"invalid usage")},J=(e,t,r="uint8array")=>{const s=new v;f(r),k(s,e,"state_address");var a=w(t=R(s,t,"message_chunk")),_=t.length;s.push(a),0!=(0|n._crypto_sign_update(e,a,_,0))&&A(s,"invalid usage"),x(s)},X=(e,t,r)=>{const s=new v;e=R(s,e,"signature");var a,_=0|n._crypto_sign_bytes();e.length!==_&&S(s,"invalid signature length"),a=w(e),s.push(a);var o=w(t=R(s,t,"message")),i=t.length;s.push(o),r=R(s,r,"publicKey");var u,c=0|n._crypto_sign_publickeybytes();r.length!==c&&S(s,"invalid publicKey length"),u=w(r),s.push(u);var y=0===(0|n._crypto_sign_verify_detached(a,o,i,0,u));return x(s),y},q=(e,t="uint8array")=>{const r=new v;f(t),k(r,e,"length"),("number"!=typeof e||(0|e)!==e||e<0)&&S(r,"length must be an unsigned integer");var s=new m(0|e),a=s.address;r.push(a),n._randombytes_buf(a,e);var _=b(s,t);return x(r),_},Q=(e,t,r="uint8array")=>{const s=new v;f(r),k(s,e,"length"),("number"!=typeof e||(0|e)!==e||e<0)&&S(s,"length must be an unsigned integer"),t=R(s,t,"seed");var a,_=0|n._randombytes_seedbytes();t.length!==_&&S(s,"invalid seed length"),a=w(t),s.push(a);var o=new m(0|e),i=o.address;s.push(i),n._randombytes_buf_deterministic(i,e,a);var u=b(o,r);return x(s),u},Z=(e="uint8array")=>{new v,f(e),n._randombytes_close()},$=(e="uint8array")=>{const t=new v;f(e);var r=n._randombytes_random()>>>0;return x(t),r},ee=(e="uint8array")=>{new v,f(e),n._randombytes_stir()},ne=(e,t="uint8array")=>{const r=new v;f(t),k(r,e,"upper_bound"),("number"!=typeof e||(0|e)!==e||e<0)&&S(r,"upper_bound must be an unsigned integer");var s=n._randombytes_uniform(e)>>>0;return x(r),s},te=()=>{const e=new v;var t=n._sodium_version_string(),r=n.UTF8ToString(t);return x(e),r};export{T as CONSTANTS,y as base64_variants,U as crypto_box_easy,Y as crypto_box_open_easy,N as crypto_hash_sha256,O as crypto_hash_sha256_final,B as crypto_hash_sha256_init,K as crypto_hash_sha256_update,C as crypto_secretbox_easy,D as crypto_secretbox_open_easy,M as crypto_sign,L as crypto_sign_detached,P as crypto_sign_ed25519_pk_to_curve25519,V as crypto_sign_ed25519_sk_to_curve25519,G as crypto_sign_final_create,F as crypto_sign_final_verify,W as crypto_sign_init,H as crypto_sign_keypair,j as crypto_sign_open,z as crypto_sign_seed_keypair,J as crypto_sign_update,X as crypto_sign_verify_detached,l as from_base64,u as from_hex,_ as from_string,r as install,n as libsodium,h as output_formats,q as randombytes_buf,Q as randombytes_buf_deterministic,Z as randombytes_close,$ as randombytes_random,ee as randombytes_stir,ne as randombytes_uniform,te as sodium_version_string,d as to_base64,c as to_hex,i as to_string};
