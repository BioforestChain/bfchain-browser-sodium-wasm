const e=function(e={}){var n,t;e.ready=new Promise((function(e,r){n=e,t=r}));var r,s=e.printErr||console.warn.bind(console);"object"!=typeof WebAssembly&&A("no native wasm support detected");var a,o,i,_,u,c,y,p,l=!1,d="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function b(e,n){return e?function(e,n,t){for(var r=n+t,s=n;e[s]&&!(s>=r);)++s;if(s-n>16&&e.subarray&&d)return d.decode(e.subarray(n,s));for(var a="";n<s;){var o=e[n++];if(128&o){var i=63&e[n++];if(192!=(224&o)){var _=63&e[n++];if((o=224==(240&o)?(15&o)<<12|i<<6|_:(7&o)<<18|i<<12|_<<6|63&e[n++])<65536)a+=String.fromCharCode(o);else{var u=o-65536;a+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else a+=String.fromCharCode((31&o)<<6|i)}else a+=String.fromCharCode(o)}return a}(i,e,n):""}function g(n){a=n,e.HEAP8=o=new Int8Array(n),e.HEAP16=_=new Int16Array(n),e.HEAP32=u=new Int32Array(n),e.HEAPU8=i=new Uint8Array(n),e.HEAPU16=new Uint16Array(n),e.HEAPU32=new Uint32Array(n),e.HEAPF32=c=new Float32Array(n),e.HEAPF64=y=new Float64Array(n)}e.INITIAL_MEMORY;var f=[],h=[],m=[];var v,w,E=0,x=null;function A(n){e.onAbort&&e.onAbort(n),s(n+=""),l=!0,n="abort("+n+"). Build with -s ASSERTIONS=1 for more info.";var r=new WebAssembly.RuntimeError(n);throw t(r),r}e.preloadedImages={},e.preloadedAudios={};var S={35180:function(){return e.getRandomValue()},35216:function(){void 0===e.getRandomValue&&(e.getRandomValue=()=>{var e=new Uint32Array(1);return crypto.getRandomValues(e),e[0]>>>0})}};function k(n){for(;n.length>0;){var t=n.shift();if("function"!=typeof t){var r=t.func;"number"==typeof r?void 0===t.arg?p.get(r)():p.get(r)(t.arg):r(void 0===t.arg?null:t.arg)}else t(e)}}var R=[];function I(e){try{return r.grow(e-a.byteLength+65535>>>16),g(r.buffer),1}catch(e){}}var T,N={b:function(e,n,t,r){A("Assertion failed: "+b(e)+", at: "+[n?b(n):"unknown filename",t,r?b(r):"unknown function"])},c:function(){A()},a:function(e,n,t){var r=function(e,n){var t;for(R.length=0,n>>=2;t=i[e++];){var r=t<105;r&&1&n&&n++,R.push(r?y[n++>>1]:u[n]),++n}return R}(n,t);return S[e].apply(null,r)},d:function(){return 2147483648},e:function(e,n,t){i.copyWithin(e,n,n+t)},f:function(e){var n,t,r=i.length,s=2147483648;if((e>>>=0)>s)return!1;for(var a=1;a<=4;a*=2){var o=r*(1+.2/a);if(o=Math.min(o,e+100663296),I(Math.min(s,((n=Math.max(e,o))%(t=65536)>0&&(n+=t-n%t),n))))return!0}return!1}};function Y(t){function r(){T||(T=!0,e.calledRun=!0,l||(k(h),n(e),e.onRuntimeInitialized&&e.onRuntimeInitialized(),function(){if(e.postRun)for("function"==typeof e.postRun&&(e.postRun=[e.postRun]);e.postRun.length;)n=e.postRun.shift(),m.unshift(n);var n;k(m)}()))}E>0||(!function(){if(e.preRun)for("function"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;)n=e.preRun.shift(),f.unshift(n);var n;k(f)}(),E>0||(e.setStatus?(e.setStatus("Running..."),setTimeout((function(){setTimeout((function(){e.setStatus("")}),1),r()}),1)):r()))}if(async function(){const n={a:N};function a(n){const t=n.exports;var s;return e.asm=t,g((r=t.g).buffer),p=t._,s=t.h,h.unshift(s),function(n){if(E--,e.monitorRunDependencies&&e.monitorRunDependencies(E),0==E&&x){var t=x;x=null,t()}}(),t}E++,e.monitorRunDependencies&&e.monitorRunDependencies(E);try{if(e.instantiateWasm)return await e.instantiateWasm(n,a);a((await WebAssembly.instantiateStreaming(fetch("sodium.wasm",{credentials:"same-origin"}),n)).instance)}catch(e){try{A(e)}catch(e){t(e)}return s("Module.instantiateWasm callback failed with error: "+e),A(e),!1}}(),e.___wasm_call_ctors=function(){return(e.___wasm_call_ctors=e.asm.h).apply(null,arguments)},e._crypto_box_publickeybytes=function(){return(e._crypto_box_publickeybytes=e.asm.i).apply(null,arguments)},e._crypto_box_secretkeybytes=function(){return(e._crypto_box_secretkeybytes=e.asm.j).apply(null,arguments)},e._crypto_box_noncebytes=function(){return(e._crypto_box_noncebytes=e.asm.k).apply(null,arguments)},e._crypto_box_macbytes=function(){return(e._crypto_box_macbytes=e.asm.l).apply(null,arguments)},e._crypto_box_easy=function(){return(e._crypto_box_easy=e.asm.m).apply(null,arguments)},e._crypto_box_open_easy=function(){return(e._crypto_box_open_easy=e.asm.n).apply(null,arguments)},e._crypto_scalarmult_scalarbytes=function(){return(e._crypto_scalarmult_scalarbytes=e.asm.o).apply(null,arguments)},e._crypto_secretbox_keybytes=function(){return(e._crypto_secretbox_keybytes=e.asm.p).apply(null,arguments)},e._crypto_secretbox_noncebytes=function(){return(e._crypto_secretbox_noncebytes=e.asm.q).apply(null,arguments)},e._crypto_secretbox_macbytes=function(){return(e._crypto_secretbox_macbytes=e.asm.r).apply(null,arguments)},e._crypto_secretbox_easy=function(){return(e._crypto_secretbox_easy=e.asm.s).apply(null,arguments)},e._crypto_secretbox_open_easy=function(){return(e._crypto_secretbox_open_easy=e.asm.t).apply(null,arguments)},e._crypto_sign_statebytes=function(){return(e._crypto_sign_statebytes=e.asm.u).apply(null,arguments)},e._crypto_sign_bytes=function(){return(e._crypto_sign_bytes=e.asm.v).apply(null,arguments)},e._crypto_sign_seedbytes=function(){return(e._crypto_sign_seedbytes=e.asm.w).apply(null,arguments)},e._crypto_sign_publickeybytes=function(){return(e._crypto_sign_publickeybytes=e.asm.x).apply(null,arguments)},e._crypto_sign_secretkeybytes=function(){return(e._crypto_sign_secretkeybytes=e.asm.y).apply(null,arguments)},e._crypto_sign_messagebytes_max=function(){return(e._crypto_sign_messagebytes_max=e.asm.z).apply(null,arguments)},e._crypto_sign_seed_keypair=function(){return(e._crypto_sign_seed_keypair=e.asm.A).apply(null,arguments)},e._crypto_sign_keypair=function(){return(e._crypto_sign_keypair=e.asm.B).apply(null,arguments)},e._crypto_sign=function(){return(e._crypto_sign=e.asm.C).apply(null,arguments)},e._crypto_sign_open=function(){return(e._crypto_sign_open=e.asm.D).apply(null,arguments)},e._crypto_sign_detached=function(){return(e._crypto_sign_detached=e.asm.E).apply(null,arguments)},e._crypto_sign_verify_detached=function(){return(e._crypto_sign_verify_detached=e.asm.F).apply(null,arguments)},e._crypto_sign_init=function(){return(e._crypto_sign_init=e.asm.G).apply(null,arguments)},e._crypto_sign_update=function(){return(e._crypto_sign_update=e.asm.H).apply(null,arguments)},e._crypto_sign_final_create=function(){return(e._crypto_sign_final_create=e.asm.I).apply(null,arguments)},e._crypto_sign_final_verify=function(){return(e._crypto_sign_final_verify=e.asm.J).apply(null,arguments)},e._crypto_sign_ed25519_pk_to_curve25519=function(){return(e._crypto_sign_ed25519_pk_to_curve25519=e.asm.K).apply(null,arguments)},e._crypto_sign_ed25519_sk_to_curve25519=function(){return(e._crypto_sign_ed25519_sk_to_curve25519=e.asm.L).apply(null,arguments)},e._randombytes_random=function(){return(e._randombytes_random=e.asm.M).apply(null,arguments)},e._randombytes_stir=function(){return(e._randombytes_stir=e.asm.N).apply(null,arguments)},e._randombytes_uniform=function(){return(e._randombytes_uniform=e.asm.O).apply(null,arguments)},e._randombytes_buf=function(){return(e._randombytes_buf=e.asm.P).apply(null,arguments)},e._randombytes_buf_deterministic=function(){return(e._randombytes_buf_deterministic=e.asm.Q).apply(null,arguments)},e._randombytes_seedbytes=function(){return(e._randombytes_seedbytes=e.asm.R).apply(null,arguments)},e._randombytes_close=function(){return(e._randombytes_close=e.asm.S).apply(null,arguments)},e._randombytes=function(){return(e._randombytes=e.asm.T).apply(null,arguments)},e._sodium_bin2hex=function(){return(e._sodium_bin2hex=e.asm.U).apply(null,arguments)},e._sodium_hex2bin=function(){return(e._sodium_hex2bin=e.asm.V).apply(null,arguments)},e._sodium_base64_encoded_len=function(){return(e._sodium_base64_encoded_len=e.asm.W).apply(null,arguments)},e._sodium_bin2base64=function(){return(e._sodium_bin2base64=e.asm.X).apply(null,arguments)},e._sodium_base642bin=function(){return(e._sodium_base642bin=e.asm.Y).apply(null,arguments)},e._sodium_init=function(){return(e._sodium_init=e.asm.Z).apply(null,arguments)},e._sodium_pad=function(){return(e._sodium_pad=e.asm._).apply(null,arguments)},e._sodium_unpad=function(){return(e._sodium_unpad=e.asm.$).apply(null,arguments)},e._sodium_version_string=function(){return(e._sodium_version_string=e.asm.aa).apply(null,arguments)},e._sodium_library_version_major=function(){return(e._sodium_library_version_major=e.asm.ba).apply(null,arguments)},e._sodium_library_version_minor=function(){return(e._sodium_library_version_minor=e.asm.ca).apply(null,arguments)},e._sodium_library_minimal=function(){return(e._sodium_library_minimal=e.asm.da).apply(null,arguments)},e._malloc=function(){return(e._malloc=e.asm.ea).apply(null,arguments)},e._free=function(){return(e._free=e.asm.fa).apply(null,arguments)},e.setValue=function(e,n,t,r){switch("*"===(t=t||"i8").charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":o[e>>0]=n;break;case"i16":_[e>>1]=n;break;case"i32":u[e>>2]=n;break;case"i64":w=[n>>>0,(v=n,+Math.abs(v)>=1?v>0?(0|Math.min(+Math.floor(v/4294967296),4294967295))>>>0:~~+Math.ceil((v-+(~~v>>>0))/4294967296)>>>0:0)],u[e>>2]=w[0],u[e+4>>2]=w[1];break;case"float":c[e>>2]=n;break;case"double":y[e>>3]=n;break;default:A("invalid type for setValue: "+t)}},e.getValue=function(e,n,t){switch("*"===(n=n||"i8").charAt(n.length-1)&&(n="i32"),n){case"i1":case"i8":return o[e>>0];case"i16":return _[e>>1];case"i32":case"i64":return u[e>>2];case"float":return c[e>>2];case"double":return y[e>>3];default:A("invalid type for getValue: "+n)}return null},e.UTF8ToString=b,x=function e(){T||Y(),T||(x=e)},e.run=Y,e.preInit)for("function"==typeof e.preInit&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return Y(),e.ready},n={};let t;const r=e=>t||(t=s(e)),s=async t=>{t&&(n.instantiateWasm=t.instantiateWasm,t.getRandomValue&&(n.getRandomValue=t.getRandomValue)),e(n),await n.ready;try{if(0!==n._sodium_init())throw new Error("libsodium was not correctly initialized.");const e=new Uint8Array([98,97,108,108,115]),r=j(T.crypto_secretbox_NONCEBYTES),s=j(T.crypto_secretbox_KEYBYTES),a=U(e,r,s);if(function(e,n){if(!(e instanceof Uint8Array&&n instanceof Uint8Array))throw new TypeError("Only Uint8Array instances can be compared");if(e.length!==n.length)throw new TypeError("Only instances of identical length can be compared");for(var t=0,r=0,s=e.length;r<s;r++)t|=e[r]^n[r];return 0===t}(e,O(a,r,s)))return t}catch(e){throw console.log(e),new Error("./libsodium.js wasm failed to load"+e)}};const a=new TextEncoder,o=a.encode.bind(a),i=new TextDecoder("utf-8",{fatal:!0}),_=i.decode.bind(i);function u(e){const t=new v,r=R(t,e,"input"),s=new m(r.length/2),a=w(r),o=E(4);t.push(a),t.push(s.address),t.push(o),0!==n._sodium_hex2bin(s.address,s.length,a,r.length,0,0,o)&&A(t,"invalid input");n.getValue(o,"i32")-a!==r.length&&A(t,"incomplete input");const i=s.to_Uint8Array();return x(t),i}function c(e){e=R(null,e,"input");for(var n,t,r,s="",a=0;a<e.length;a++)r=87+(t=15&e[a])+(t-10>>8&-39)<<8|87+(n=e[a]>>>4)+(n-10>>8&-39),s+=String.fromCharCode(255&r)+String.fromCharCode(r>>>8);return s}var y;function p(e){if(null==e)return y.URLSAFE_NO_PADDING;if(e!==y.ORIGINAL&&e!==y.ORIGINAL_NO_PADDING&&e!==y.URLSAFE&&e!=y.URLSAFE_NO_PADDING)throw new Error("unsupported base64 variant");return e}function l(e,t){t=p(t);const r=new v,s=R(r,e,"input"),a=new m(3*s.length/4),o=w(s),i=E(4),_=E(4);r.push(o),r.push(a.address),r.push(i),r.push(_),0!==n._sodium_base642bin(a.address,a.length,o,s.length,0,i,_,t)&&A(r,"invalid input");n.getValue(_,"i32")-o!==s.length&&A(r,"incomplete input"),a.length=n.getValue(i,"i32");const u=a.to_Uint8Array();return x(r),u}function d(e,t){t=p(t);const r=new v;e=R(r,e,"input");const s=0|Math.floor(e.length/3),a=e.length-3*s,o=4*s+(0!==a?0==(2&t)?4:2+(a>>>1):0),i=new m(o+1),u=w(e);r.push(u),r.push(i.address),0===n._sodium_bin2base64(i.address,i.length,u,e.length,t)&&A(r,"conversion failed"),i.length=o;const c=_(i.to_Uint8Array());return x(r),c}!function(e){e[e.ORIGINAL=1]="ORIGINAL",e[e.ORIGINAL_NO_PADDING=3]="ORIGINAL_NO_PADDING",e[e.URLSAFE=5]="URLSAFE",e[e.URLSAFE_NO_PADDING=7]="URLSAFE_NO_PADDING"}(y||(y={}));const b=Object.freeze(["uint8array","text","hex","base64"]);function g(e,n){var t=n||"uint8array";if(!f(t))throw new Error(t+" output format is not available");if(e instanceof m){if("uint8array"===t)return e.to_Uint8Array();if("text"===t)return _(e.to_Uint8Array());if("hex"===t)return c(e.to_Uint8Array());if("base64"===t)return d(e.to_Uint8Array(),y.URLSAFE_NO_PADDING);throw new Error('What is output format "'+t+'"?')}throw new TypeError("Cannot format output")}function f(e){return b.includes(e)}function h(e){if(e){if("string"!=typeof e)throw new TypeError("When defined, the output format must be a string");if(!f(e))throw new Error(e+" is not a supported output format")}}class m{constructor(e){this.length=e,this.address=E(e)}to_Uint8Array(){var e=new Uint8Array(this.length);return e.set(n.HEAPU8.subarray(this.address,this.address+this.length)),e}}class v extends Array{push(e){return this[this.length]=e}}function w(e){var t=E(e.length);return n.HEAPU8.set(e,t),t}function E(e){var t=n._malloc(e);if(0===t)throw{message:"_malloc() failed",length:e};return t}function x(e){if(e)for(var t=0;t<e.length;t++)r=e[t],n._free(r);var r}function A(e,n){throw x(e),new Error(n)}function S(e,n){throw x(e),new TypeError(n)}function k(e,n,t){null==n&&S(e,t+" cannot be null or undefined")}function R(e,n,t){return k(e,n,t),n instanceof Uint8Array?n:"string"==typeof n?o(n):void S(e,"unsupported input type for "+t)}const I=(e,n)=>{Object.defineProperty(T,e,{value:n,writable:!1,configurable:!0,enumerable:!0})},T={get SODIUM_LIBRARY_VERSION_MAJOR(){const e=n._sodium_library_version_major();return I("SODIUM_LIBRARY_VERSION_MAJOR",e),e},get SODIUM_LIBRARY_VERSION_MINOR(){const e=n._sodium_library_version_minor();return I("SODIUM_LIBRARY_VERSION_MINOR",e),e},get SODIUM_VERSION_STRING(){const e=n._sodium_version_string();return I("SODIUM_VERSION_STRING",e),e},get crypto_box_MACBYTES(){const e=n._crypto_box_macbytes();return I("crypto_box_MACBYTES",e),e},get crypto_box_NONCEBYTES(){const e=n._crypto_box_noncebytes();return I("crypto_box_NONCEBYTES",e),e},get crypto_box_PUBLICKEYBYTES(){const e=n._crypto_box_publickeybytes();return I("crypto_box_PUBLICKEYBYTES",e),e},get crypto_box_SECRETKEYBYTES(){const e=n._crypto_box_secretkeybytes();return I("crypto_box_SECRETKEYBYTES",e),e},get crypto_scalarmult_SCALARBYTES(){const e=n._crypto_scalarmult_scalarbytes();return I("crypto_scalarmult_SCALARBYTES",e),e},get crypto_secretbox_KEYBYTES(){const e=n._crypto_secretbox_keybytes();return I("crypto_secretbox_KEYBYTES",e),e},get crypto_secretbox_MACBYTES(){const e=n._crypto_secretbox_macbytes();return I("crypto_secretbox_MACBYTES",e),e},get crypto_secretbox_NONCEBYTES(){const e=n._crypto_secretbox_noncebytes();return I("crypto_secretbox_NONCEBYTES",e),e},get crypto_sign_BYTES(){const e=n._crypto_sign_bytes();return I("crypto_sign_BYTES",e),e},get crypto_sign_MESSAGEBYTES_MAX(){const e=n._crypto_sign_messagebytes_max();return I("crypto_sign_MESSAGEBYTES_MAX",e),e},get crypto_sign_PUBLICKEYBYTES(){const e=n._crypto_sign_publickeybytes();return I("crypto_sign_PUBLICKEYBYTES",e),e},get crypto_sign_SECRETKEYBYTES(){const e=n._crypto_sign_secretkeybytes();return I("crypto_sign_SECRETKEYBYTES",e),e},get crypto_sign_SEEDBYTES(){const e=n._crypto_sign_seedbytes();return I("crypto_sign_SEEDBYTES",e),e}},N=(e,t,r,s,a="uint8array")=>{const o=new v;h(a);var i=w(e=R(o,e,"message")),_=e.length;o.push(i),t=R(o,t,"nonce");var u,c=0|n._crypto_box_noncebytes();t.length!==c&&S(o,"invalid nonce length"),u=w(t),o.push(u),r=R(o,r,"publicKey");var y,p=0|n._crypto_box_publickeybytes();r.length!==p&&S(o,"invalid publicKey length"),y=w(r),o.push(y),s=R(o,s,"privateKey");var l,d=0|n._crypto_box_secretkeybytes();s.length!==d&&S(o,"invalid privateKey length"),l=w(s),o.push(l);var b=_+n._crypto_box_macbytes()|0,f=new m(b),E=f.address;if(o.push(E),0==(0|n._crypto_box_easy(E,i,_,0,u,y,l))){var k=g(f,a);return x(o),k}A(o,"invalid usage")},Y=(e,t,r,s,a="uint8array")=>{const o=new v;h(a),e=R(o,e,"ciphertext");var i,_=n._crypto_box_macbytes(),u=e.length;u<_&&S(o,"ciphertext is too short"),i=w(e),o.push(i),t=R(o,t,"nonce");var c,y=0|n._crypto_box_noncebytes();t.length!==y&&S(o,"invalid nonce length"),c=w(t),o.push(c),r=R(o,r,"publicKey");var p,l=0|n._crypto_box_publickeybytes();r.length!==l&&S(o,"invalid publicKey length"),p=w(r),o.push(p),s=R(o,s,"privateKey");var d,b=0|n._crypto_box_secretkeybytes();s.length!==b&&S(o,"invalid privateKey length"),d=w(s),o.push(d);var f=u-n._crypto_box_macbytes()|0,E=new m(f),k=E.address;if(o.push(k),0==(0|n._crypto_box_open_easy(k,i,u,0,c,p,d))){var I=g(E,a);return x(o),I}A(o,"incorrect key pair for the given ciphertext")},U=(e,t,r,s="uint8array")=>{const a=new v;h(s);var o=w(e=R(a,e,"message")),i=e.length;a.push(o),t=R(a,t,"nonce");var _,u=0|n._crypto_secretbox_noncebytes();t.length!==u&&S(a,"invalid nonce length"),_=w(t),a.push(_),r=R(a,r,"key");var c,y=0|n._crypto_secretbox_keybytes();r.length!==y&&S(a,"invalid key length"),c=w(r),a.push(c);var p=i+n._crypto_secretbox_macbytes()|0,l=new m(p),d=l.address;if(a.push(d),0==(0|n._crypto_secretbox_easy(d,o,i,0,_,c))){var b=g(l,s);return x(a),b}A(a,"invalid usage")},O=(e,t,r,s="uint8array")=>{const a=new v;h(s),e=R(a,e,"ciphertext");var o,i=n._crypto_secretbox_macbytes(),_=e.length;_<i&&S(a,"ciphertext is too short"),o=w(e),a.push(o),t=R(a,t,"nonce");var u,c=0|n._crypto_secretbox_noncebytes();t.length!==c&&S(a,"invalid nonce length"),u=w(t),a.push(u),r=R(a,r,"key");var y,p=0|n._crypto_secretbox_keybytes();r.length!==p&&S(a,"invalid key length"),y=w(r),a.push(y);var l=_-n._crypto_secretbox_macbytes()|0,d=new m(l),b=d.address;if(a.push(b),0==(0|n._crypto_secretbox_open_easy(b,o,_,0,u,y))){var f=g(d,s);return x(a),f}A(a,"wrong secret key for the given ciphertext")},B=(e,t,r="uint8array")=>{const s=new v;h(r);var a=w(e=R(s,e,"message")),o=e.length;s.push(a),t=R(s,t,"privateKey");var i,_=0|n._crypto_sign_secretkeybytes();t.length!==_&&S(s,"invalid privateKey length"),i=w(t),s.push(i);var u=e.length+n._crypto_sign_bytes()|0,c=new m(u),y=c.address;if(s.push(y),0==(0|n._crypto_sign(y,null,a,o,0,i))){var p=g(c,r);return x(s),p}A(s,"invalid usage")},K=(e,t,r="uint8array")=>{const s=new v;h(r);var a=w(e=R(s,e,"message")),o=e.length;s.push(a),t=R(s,t,"privateKey");var i,_=0|n._crypto_sign_secretkeybytes();t.length!==_&&S(s,"invalid privateKey length"),i=w(t),s.push(i);var u=0|n._crypto_sign_bytes(),c=new m(u),y=c.address;if(s.push(y),0==(0|n._crypto_sign_detached(y,null,a,o,0,i))){var p=g(c,r);return x(s),p}A(s,"invalid usage")},C=(e,t="uint8array")=>{const r=new v;h(t),e=R(r,e,"edPk");var s,a=0|n._crypto_sign_publickeybytes();e.length!==a&&S(r,"invalid edPk length"),s=w(e),r.push(s);var o=0|n._crypto_scalarmult_scalarbytes(),i=new m(o),_=i.address;if(r.push(_),0==(0|n._crypto_sign_ed25519_pk_to_curve25519(_,s))){var u=g(i,t);return x(r),u}A(r,"invalid key")},D=(e,t="uint8array")=>{const r=new v;h(t),e=R(r,e,"edSk");var s,a=0|n._crypto_sign_secretkeybytes();e.length!==a&&S(r,"invalid edSk length"),s=w(e),r.push(s);var o=0|n._crypto_scalarmult_scalarbytes(),i=new m(o),_=i.address;if(r.push(_),0==(0|n._crypto_sign_ed25519_sk_to_curve25519(_,s))){var u=g(i,t);return x(r),u}A(r,"invalid key")},M=(e,t,r="uint8array")=>{const s=new v;h(r),k(s,e,"state_address"),t=R(s,t,"privateKey");var a,o=0|n._crypto_sign_secretkeybytes();t.length!==o&&S(s,"invalid privateKey length"),a=w(t),s.push(a);var i=0|n._crypto_sign_bytes(),_=new m(i),u=_.address;if(s.push(u),0==(0|n._crypto_sign_final_create(e,u,null,a))){var c=(n._free(e),g(_,r));return x(s),c}A(s,"invalid usage")},L=(e,t,r,s="uint8array")=>{const a=new v;h(s),k(a,e,"state_address"),t=R(a,t,"signature");var o,i=0|n._crypto_sign_bytes();t.length!==i&&S(a,"invalid signature length"),o=w(t),a.push(o),r=R(a,r,"publicKey");var _,u=0|n._crypto_sign_publickeybytes();r.length!==u&&S(a,"invalid publicKey length"),_=w(r),a.push(_);var c=0===(0|n._crypto_sign_final_verify(e,o,_));return x(a),c},P=(e="uint8array")=>{const t=new v;h(e);var r=new m(208).address;if(0==(0|n._crypto_sign_init(r))){var s=r;return x(t),s}A(t,"internal error")},V=(e="uint8array")=>{const t=new v;h(e);var r=0|n._crypto_sign_publickeybytes(),s=new m(r),a=s.address;t.push(a);var o=0|n._crypto_sign_secretkeybytes(),i=new m(o),_=i.address;if(t.push(_),0==(0|n._crypto_sign_keypair(a,_))){var u={publicKey:g(s,e),privateKey:g(i,e),keyType:"ed25519"};return x(t),u}A(t,"internal error")},G=(e,t,r="uint8array")=>{const s=new v;h(r),e=R(s,e,"signedMessage");var a,o=n._crypto_sign_bytes(),i=e.length;i<o&&S(s,"signedMessage is too short"),a=w(e),s.push(a),t=R(s,t,"publicKey");var _,u=0|n._crypto_sign_publickeybytes();t.length!==u&&S(s,"invalid publicKey length"),_=w(t),s.push(_);var c=i-n._crypto_sign_bytes()|0,y=new m(c),p=y.address;if(s.push(p),0==(0|n._crypto_sign_open(p,null,a,i,0,_))){var l=g(y,r);return x(s),l}A(s,"incorrect signature for the given public key")},F=(e,t="uint8array")=>{const r=new v;h(t),e=R(r,e,"seed");var s,a=0|n._crypto_sign_seedbytes();e.length!==a&&S(r,"invalid seed length"),s=w(e),r.push(s);var o=0|n._crypto_sign_publickeybytes(),i=new m(o),_=i.address;r.push(_);var u=0|n._crypto_sign_secretkeybytes(),c=new m(u),y=c.address;if(r.push(y),0==(0|n._crypto_sign_seed_keypair(_,y,s))){var p={publicKey:g(i,t),privateKey:g(c,t),keyType:"ed25519"};return x(r),p}A(r,"invalid usage")},W=(e,t,r="uint8array")=>{const s=new v;h(r),k(s,e,"state_address");var a=w(t=R(s,t,"message_chunk")),o=t.length;s.push(a),0!=(0|n._crypto_sign_update(e,a,o,0))&&A(s,"invalid usage"),x(s)},H=(e,t,r)=>{const s=new v;e=R(s,e,"signature");var a,o=0|n._crypto_sign_bytes();e.length!==o&&S(s,"invalid signature length"),a=w(e),s.push(a);var i=w(t=R(s,t,"message")),_=t.length;s.push(i),r=R(s,r,"publicKey");var u,c=0|n._crypto_sign_publickeybytes();r.length!==c&&S(s,"invalid publicKey length"),u=w(r),s.push(u);var y=0===(0|n._crypto_sign_verify_detached(a,i,_,0,u));return x(s),y},j=(e,t="uint8array")=>{const r=new v;h(t),k(r,e,"length"),("number"!=typeof e||(0|e)!==e||e<0)&&S(r,"length must be an unsigned integer");var s=new m(0|e),a=s.address;r.push(a),n._randombytes_buf(a,e);var o=g(s,t);return x(r),o},z=(e,t,r="uint8array")=>{const s=new v;h(r),k(s,e,"length"),("number"!=typeof e||(0|e)!==e||e<0)&&S(s,"length must be an unsigned integer"),t=R(s,t,"seed");var a,o=0|n._randombytes_seedbytes();t.length!==o&&S(s,"invalid seed length"),a=w(t),s.push(a);var i=new m(0|e),_=i.address;s.push(_),n._randombytes_buf_deterministic(_,e,a);var u=g(i,r);return x(s),u},J=(e="uint8array")=>{new v,h(e),n._randombytes_close()},X=(e="uint8array")=>{const t=new v;h(e);var r=n._randombytes_random()>>>0;return x(t),r},q=(e="uint8array")=>{new v,h(e),n._randombytes_stir()},Q=(e,t="uint8array")=>{const r=new v;h(t),k(r,e,"upper_bound"),("number"!=typeof e||(0|e)!==e||e<0)&&S(r,"upper_bound must be an unsigned integer");var s=n._randombytes_uniform(e)>>>0;return x(r),s},Z=()=>{const e=new v;var t=n._sodium_version_string(),r=n.UTF8ToString(t);return x(e),r};export{T as CONSTANTS,y as base64_variants,N as crypto_box_easy,Y as crypto_box_open_easy,U as crypto_secretbox_easy,O as crypto_secretbox_open_easy,B as crypto_sign,K as crypto_sign_detached,C as crypto_sign_ed25519_pk_to_curve25519,D as crypto_sign_ed25519_sk_to_curve25519,M as crypto_sign_final_create,L as crypto_sign_final_verify,P as crypto_sign_init,V as crypto_sign_keypair,G as crypto_sign_open,F as crypto_sign_seed_keypair,W as crypto_sign_update,H as crypto_sign_verify_detached,l as from_base64,u as from_hex,o as from_string,r as install,n as libsodium,b as output_formats,j as randombytes_buf,z as randombytes_buf_deterministic,J as randombytes_close,X as randombytes_random,q as randombytes_stir,Q as randombytes_uniform,Z as sodium_version_string,d as to_base64,c as to_hex,_ as to_string};
